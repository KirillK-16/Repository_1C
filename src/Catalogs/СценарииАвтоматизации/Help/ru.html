<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta content="text/html;charset=utf-8" http-equiv="content-type"></meta><link rel="stylesheet" type="text/css" href="v8help://service_book/service_style"></link><meta name="GENERATOR" content="MSHTML 11.00.9600.19003"></meta></head><body>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt"><font size="2">Сценарии автоматизации конструируются из команд. Сценарии фактически являются шаблонами для периодического запуска.<o:p></o:p></font></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 0cm"><span style="mso-no-proof: yes; mso-fareast-language: RU"><v:shapetype id="_x0000_t75" coordsize="21600,21600" o:spt="75" o:preferrelative="t" path="m@4@5l@4@11@9@11@9@5xe" filled="f" stroked="f"><v:stroke joinstyle="miter"></v:stroke><v:formulas><v:f eqn="if lineDrawn pixelLineWidth 0"></v:f><v:f eqn="sum @0 1 0"></v:f><v:f eqn="sum 0 0 @1"></v:f><v:f eqn="prod @2 1 2"></v:f><v:f eqn="prod @3 21600 pixelWidth"></v:f><v:f eqn="prod @3 21600 pixelHeight"></v:f><v:f eqn="sum @0 0 1"></v:f><v:f eqn="prod @6 1 2"></v:f><v:f eqn="prod @7 21600 pixelWidth"></v:f><v:f eqn="sum @8 21600 0"></v:f><v:f eqn="prod @7 21600 pixelHeight"></v:f><v:f eqn="sum @10 21600 0"></v:f></v:formulas><v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"></v:path><o:lock v:ext="edit" aspectratio="t"></o:lock></v:shapetype></span><o:p><img src="_files/9.png" width="1235" height="743"></img></o:p></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt"><font size="2"><span style="mso-spacerun: yes"> </span><o:p></o:p></font></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt"><font size="2">Сами задачи администрирования, выполняющие действия над системой, создаются на основании данных сценариев-шаблонов и называются «Экземпляры сценариев» (будут описаны ниже).<o:p></o:p></font></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 0cm"><span style="mso-no-proof: yes; mso-fareast-language: RU"><o:p><font size="2"> </font></o:p></span></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 0cm"><span style="mso-no-proof: yes; mso-fareast-language: RU"><font size="2">Сценарий имеет структуру дерева, формируемого из элементов фиксированного набора типов:<o:p></o:p></font></span></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt; mso-list: l1 level1 lfo3"><font face="Verdana"><font size="2"><span style="FONT-FAMILY: Symbol; mso-no-proof: yes; mso-fareast-language: RU; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt &quot;Times New Roman&quot;">         </span></span></span><b style="mso-bidi-font-weight: normal"><span style="mso-no-proof: yes; mso-fareast-language: RU">Старт</span></b><span style="mso-no-proof: yes; mso-fareast-language: RU"> – начальный элемент любого сценария;<o:p></o:p></span></font></font></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt; mso-list: l1 level1 lfo3"><font face="Verdana"><font size="2"><span style="FONT-FAMILY: Symbol; mso-no-proof: yes; mso-fareast-language: RU; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt &quot;Times New Roman&quot;">         </span></span></span><b style="mso-bidi-font-weight: normal"><span style="mso-no-proof: yes; mso-fareast-language: RU">Параллельное выполнение</span></b><span style="mso-no-proof: yes; mso-fareast-language: RU"> – группировочный элемент, обозначающий начало параллельных ветвей сценария;<o:p></o:p></span></font></font></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt; mso-list: l1 level1 lfo3"><font face="Verdana"><font size="2"><span style="FONT-FAMILY: Symbol; mso-no-proof: yes; mso-fareast-language: RU; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt &quot;Times New Roman&quot;">         </span></span></span><b style="mso-bidi-font-weight: normal"><span style="mso-no-proof: yes; mso-fareast-language: RU">Ветка</span></b><span style="mso-no-proof: yes; mso-fareast-language: RU"> – начало последовательности шагов одной из ветвей параллельной части сценария;<o:p></o:p></span></font></font></p><font face="Verdana"><font size="2"><span style="FONT-FAMILY: Symbol; mso-no-proof: yes; mso-fareast-language: RU; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt; mso-list: l1 level1 lfo3"><font face="Verdana"><font size="2"><span style="FONT-FAMILY: Symbol; mso-no-proof: yes; mso-fareast-language: RU; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt &quot;Times New Roman&quot;">         </span></span></span><b style="mso-bidi-font-weight: normal"><span style="mso-no-proof: yes; mso-fareast-language: RU">Шаг сценария</span></b><span style="mso-no-proof: yes; mso-fareast-language: RU"> – собственно элемент, ссылающийся на команду автоматизации, которую необходимо выполнить для изменения состояния системы.</span></font></font></p><font face="Verdana"><font size="2"><span style="mso-no-proof: yes; mso-fareast-language: RU">
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt; mso-list: l1 level1 lfo3"><font face="Verdana"><font size="2"><span style="FONT-FAMILY: Symbol; mso-no-proof: yes; mso-fareast-language: RU; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt &quot;Times New Roman&quot;">         </span></span></span><b style="mso-bidi-font-weight: normal"><span style="mso-no-proof: yes; mso-fareast-language: RU">Вспомогательные шаги</span></b><span style="mso-no-proof: yes; mso-fareast-language: RU"> – группировочный элемент, объединяет <strong>Шаги</strong> и группировочные элементы <span style="mso-no-proof: yes; mso-fareast-language: RU"><strong>Параллельное выполнение</strong>, которые не влияют на успешность сценария (удаление дистрибутивов с машины после окончания обновления, запуск обработок контроля отложенных обработчиков обновления и т.п.)</span>.</span></font></font></p></span></font></font></span></span></font></font><font face="Verdana"><font size="2"><span style="mso-no-proof: yes; mso-fareast-language: RU"><o:p></o:p></span></font></font>
<h4 style="MARGIN: 12pt 0cm 3pt 45pt; mso-list: l0 level3 lfo1"><font size="2"><span style="mso-no-proof: yes; mso-fareast-font-family: Arial; mso-bidi-font-family: Arial"><span style="mso-list: Ignore">1. </span></span><span style="mso-no-proof: yes">Конструирование сценария<o:p></o:p></span></font></h4>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt"><font size="2">Наиболее распространенные сценарии администрирования поставляются в готовом виде в составе продукта <span style="mso-bidi-font-size: 11.0pt">"</span>1С:Центр администрирования<span style="mso-bidi-font-size: 11.0pt">"</span>. Но у пользователя есть возможность конструировать собственные сценарии из существующих (поставляемых), а также добавленных самостоятельно Команд.<o:p></o:p></font></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt"><font size="2">Новый сценарий добавляется в тот же справочник Сценарии автоматизации. Дерево сценария формируется из этапов/шагов.<o:p></o:p></font></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 0cm"><span style="mso-no-proof: yes; mso-fareast-language: RU"><o:p><font size="2"> </font></o:p></span></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 0cm"><span style="mso-no-proof: yes; mso-fareast-language: RU"><o:p><font size="2"> </font></o:p></span></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 0cm"><span style="mso-no-proof: yes; mso-fareast-language: RU"><font size="2">Для выполнения команд используются шаги типа «Шаг сценария», шаги иных типов служат для формирования логики сценария (начало, ветвление и т.д.).<o:p></o:p></font></span></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 0cm"><font size="2">После добавления шага с типом «Шаг сценария» необходимо выбрать выполняемую им команду, а также, при необходимости, команду отката.<o:p></o:p></font></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 0cm"><o:p><font size="2"> </font></o:p></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 0cm"><span style="mso-no-proof: yes; mso-fareast-language: RU"><o:p><img src="_files/pic_11.png"></img></o:p></span></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 0cm"><span style="mso-no-proof: yes; mso-fareast-language: RU"><o:p></o:p></span> </p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 0cm"><span style="mso-no-proof: yes; mso-fareast-language: RU"><o:p><img src="_files/pic_12.png"></img></o:p></span></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 0cm"><span style="mso-no-proof: yes; mso-fareast-language: RU"><font size="2">Для сценария может быть заполнено Описание, которое позволяет более полно обозначить назначение и специфику сценария.<o:p></o:p></font></span></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 0cm"><span style="mso-no-proof: yes; mso-fareast-language: RU"><o:p><font size="2"> <img src="_files/pic_13.png"></img></font></o:p></span></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 0cm"><span style="mso-no-proof: yes; mso-fareast-language: RU"></span><o:p></o:p> </p>
<h4 style="MARGIN: 12pt 0cm 3pt 45pt; mso-list: l0 level3 lfo1"><font size="2"><span style="mso-no-proof: yes; mso-fareast-font-family: Arial; mso-bidi-font-family: Arial"><span style="mso-list: Ignore">2. </span></span><span style="mso-no-proof: yes">Заполнение параметров<o:p></o:p></span></font></h4>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 35.45pt"><span style="mso-no-proof: yes; mso-fareast-language: RU"><font size="2">Правила заполнения параметров шагов могут быть заданы на уровне сценария (можно переопределить на уровне Экземпляра). Можно задавать абсолютные значения,<span style="mso-spacerun: yes">  </span>а также относительные ссылки на шаблоны параметров.<o:p></o:p></font></span></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 35.45pt"><span style="mso-no-proof: yes; mso-fareast-language: RU"><o:p><font size="2"> </font></o:p></span></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 0cm"><span style="mso-no-proof: yes; mso-fareast-language: RU"><o:p><img src="_files/pic_14.png"></img></o:p></span></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 0cm"><span style="mso-no-proof: yes; mso-fareast-language: RU"><o:p><font size="2"> </font></o:p></span></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 0cm"><span style="mso-no-proof: yes; mso-fareast-language: RU"><font size="2">Шаблоны используются для задания параметров, используемых более, чем в одном шаге сценария. Для таких параметров достаточно вместо значения выбрать соответствующий ему шаблон.<o:p></o:p></font></span></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 0cm"><span style="mso-no-proof: yes; mso-fareast-language: RU"><font size="2">Шаблоны могут быть трех видов:<o:p></o:p></font></span></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt; mso-list: l2 level1 lfo2"><font face="Verdana"><font size="2"><span style="FONT-FAMILY: Symbol; mso-no-proof: yes; mso-fareast-language: RU; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt &quot;Times New Roman&quot;">         </span></span></span><span style="mso-no-proof: yes; mso-fareast-language: RU">Строка – способ заполнения «Ручной ввод». Используются для заполнения параметров, произвольным строковым значением<o:p></o:p></span></font></font></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt; mso-list: l2 level1 lfo2"><font face="Verdana"><font size="2"><span style="FONT-FAMILY: Symbol; mso-no-proof: yes; mso-fareast-language: RU; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt &quot;Times New Roman&quot;">         </span></span></span><span style="mso-no-proof: yes; mso-fareast-language: RU">Ссылка на реквизит метаданных – способ заполнения «Из объекта метаданных». Ссылка на реквизит объекта метаданных выбирается из списка метаданных заполнено в вышестоящей таблице<o:p></o:p></span></font></font></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: 0cm"><span style="mso-no-proof: yes; mso-fareast-language: RU"><o:p><font size="2"> </font></o:p></span></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: 0cm"><span style="mso-no-proof: yes; mso-fareast-language: RU"><o:p><img src="_files/pic_15.png"></img></o:p></span></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 0cm"><span style="mso-no-proof: yes; mso-fareast-language: RU"><o:p><img src="_files/pic_16.png"></img></o:p></span></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: 0cm"><span style="mso-no-proof: yes; mso-fareast-language: RU"><o:p><font size="2"> </font></o:p></span></p>
<ul style="MARGIN-TOP: 0cm" type="disc"><li class="MsoNormal" style="MARGIN: 0cm 0cm 0pt; mso-list: l2 level1 lfo2"><span style="mso-no-proof: yes"><font size="2">Конфиденциальные данные – способ заполнение «Из конфиденциального хранилища». Для заполнения данных, к которым предъявляются особые требования по безопасному хранению.<o:p></o:p></font></span></li></ul><p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="mso-no-proof: yes"><o:p><img src="_files/pic_17.png"></img></o:p></span></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="mso-no-proof: yes"><o:p></o:p></span> </p><span style="mso-no-proof: yes"><o:p><h4 style="MARGIN: 12pt 0cm 3pt 45pt; mso-list: l0 level3 lfo1"><font size="2">3. Режимы<span style="mso-no-proof: yes; mso-fareast-language: RU"> </span><span style="mso-no-proof: yes">выполнения</span><span style="mso-no-proof: yes; mso-fareast-language: RU"><o:p></o:p></span></font></h4>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 35.45pt"><span style="mso-no-proof: yes; mso-fareast-language: RU"><font size="2">По умолчанию все сценарии считаются монопольными, т.е. пока на машине выполняется один монопольный сценарий, другие ждут в очереди. Для изменения порядка выполнения сценариев используется реквизит «Режим выполнения». В системе есть три режима выполнения сценариев:<o:p></o:p></font></span></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt 71.45pt; TEXT-INDENT: -18pt; mso-list: l1 level1 lfo2"><font face="Verdana"><font size="2"><span style="FONT-FAMILY: Symbol; mso-no-proof: yes; mso-fareast-language: RU; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt &quot;Times New Roman&quot;">         </span></span></span><span style="mso-no-proof: yes; mso-fareast-language: RU">монопольное;<o:p></o:p></span></font></font></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt 71.45pt; TEXT-INDENT: -18pt; mso-list: l1 level1 lfo2"><font face="Verdana"><font size="2"><span style="FONT-FAMILY: Symbol; mso-no-proof: yes; mso-fareast-language: RU; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt &quot;Times New Roman&quot;">         </span></span></span><span style="mso-no-proof: yes; mso-fareast-language: RU">немонопольное;<o:p></o:p></span></font></font></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt 71.45pt; TEXT-INDENT: -18pt; mso-list: l1 level1 lfo2"><font face="Verdana"><font size="2"><span style="FONT-FAMILY: Symbol; mso-no-proof: yes; mso-fareast-language: RU; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt &quot;Times New Roman&quot;">         </span></span></span><span style="mso-no-proof: yes; mso-fareast-language: RU">фоновое.<o:p></o:p></span></font></font></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt"><span style="mso-no-proof: yes; mso-fareast-language: RU"><font size="2">Фоновое выполнение используется для заданий, запускаемых через функционал планировщика (см. главу 6, раздел 2), но может быть установлено и для выполнения сценариев по плану. Сценарии с режимом выполнения «Фоновое» не блокируют выполнение других сценариев в любом режиме, выполняемых на той же машине,<span style="mso-spacerun: yes">  </span>а также не ожидают завершения других сценариев.<o:p></o:p></font></span></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt"><span style="mso-no-proof: yes; mso-fareast-language: RU"><font size="2">Режим «Монопольное» предполагает, что на одной машине не может выполняться более одного сценария. Сценарии в режиме монопольно блокируют начало других сценариев с режимами «Монопольное» и «Немонопольное» на целевых машинах. При этом в случае старта монопольного сценария в то время, когда на целевых машинах уже выполняются монопольные или немонопольные сценарии, такой сценарий ожидает завершения работающего сценария и только после этого начинает выполняться.<o:p></o:p></font></span></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt"><span style="mso-no-proof: yes; mso-fareast-language: RU"><font size="2">Сценарии с режимом выполнения «Немонопольное» могут выполняться параллельно с другими немонопольными сценариями на одной машине.<o:p></o:p></font></span></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 0cm"><span style="mso-no-proof: yes; mso-fareast-language: RU"><o:p><font size="2"> </font></o:p></span></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 0cm"><span style="mso-no-proof: yes; mso-fareast-language: RU"><v:shapetype id="_x0000_t75" coordsize="21600,21600" o:spt="75" o:preferrelative="t" path="m@4@5l@4@11@9@11@9@5xe" filled="f" stroked="f"><v:stroke joinstyle="miter"></v:stroke><v:formulas><v:f eqn="if lineDrawn pixelLineWidth 0"></v:f><v:f eqn="sum @0 1 0"></v:f><v:f eqn="sum 0 0 @1"></v:f><v:f eqn="prod @2 1 2"></v:f><v:f eqn="prod @3 21600 pixelWidth"></v:f><v:f eqn="prod @3 21600 pixelHeight"></v:f><v:f eqn="sum @0 0 1"></v:f><v:f eqn="prod @6 1 2"></v:f><v:f eqn="prod @7 21600 pixelWidth"></v:f><v:f eqn="sum @8 21600 0"></v:f><v:f eqn="prod @7 21600 pixelHeight"></v:f><v:f eqn="sum @10 21600 0"></v:f></v:formulas><v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"></v:path><o:lock v:ext="edit" aspectratio="t"></o:lock></v:shapetype><o:p><img src="_files/pic_23.png"></img></o:p></span></p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 0cm"><span style="mso-no-proof: yes; mso-fareast-language: RU"><o:p><font size="2"></font></o:p></span> </p>
<p class="MsoBodyTextFirstIndent" style="MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 0cm"><span style="mso-no-proof: yes; mso-fareast-language: RU"><o:p><font size="2"><a href="Subsystem.СценарииАдминистрирования/Help">Описание конфигурации "Центр администрирования"</a></font></o:p></span></p></o:p></span>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><font size="2"></font></p></body></html>