<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"></meta><link rel="stylesheet" type="text/css" href="__STYLE__"></link><meta name="GENERATOR" content="MSHTML 11.00.9600.18125"></meta></head><body>
<h1>Кластер серверов 1С</h1>
<p>Данная форма позволит вам заполнить настройки подключения к кластеру серверов 1С, указать какие параметры кластера необходимо контролировать.</p>
<p><img src="_files/2018-09-19_15h23_56.png"></img></p>
<p>Поле "Наименование" обязательно для заполнения.</p>
<p>Мониторинг кластера осуществляется через удаленный сервер администрирования (RAS). Для возможности мониторинга кластера обязательно наличие запущенного RAS. Приложение RAS может быть запущено консольное приложение, так и как служба.</p>
<p><strong>Пример запуска RAS в консоли для ОС Windows:</strong></p>
<p>"C:\Program Files\1cv8\8.3.11.2899\bin\ras.exe" cluster --port=1545 localhost:1540</p>
<p><strong>Пример создания службы RAS для ОС Windows:</strong></p>
<p>sc create "1C:Enterprise 8.3.11.2899 RAS (x86-64)_1545" binPath= "\"C:\Program Files\1cv8\8.3.11.2899\bin\ras.exe\" cluster --service --port 1545 localhost:1540" DisplayName= "1C:Enterprise 8.3.11.2899 RAS (x86-64)_1545" type= own start= demand</p>
<p>После создания службы необходимо открыть ее в оснастке "Службы" и установить необходимые настройки.</p>
<p>Для проверки корректности запуска RAS можно выполнить в консоли следующую команду на компьютере, где запущен RAS:</p>
<p>"C:\Program Files\1cv8\8.3.11.2899\bin\rac.exe" localhost:1545 cluster list</p>
<p>Пример результата выполнения команды:</p>
<p>cluster                                  : c4aff0df-4547-42e1-a419-8220791af07a<br>host                                     : localhost<br>port                                     : 1541<br>name                                   : "Локальный кластер"<br>expiration-timeout                : 5<br>lifetime-limit                         : 0<br>max-memory-size                : 4097152<br>max-memory-time-limit        : 60<br>security-level                       : 0<br>session-fault-tolerance-level : 0<br>load-balancing-mode           : performance<br>errors-count-threshold         : 0<br>kill-problem-processes        : 0</p>
<p>Мониторинг кластера может осуществляться либо непосредственно из ЦКК (подходит для мониторинга небольшого количества кластеров), либо агентом ЦКК. Настройка производится на закладке "Подключение", где необходимо заполнить параметры аутентификации, выбрать подключение, через которое будет осуществляться мониторинг кластера, а так же сам кластер. Более простой путь - настроить подключение с помощью мастера подключения.</p>
<p><img src="_files/2018-09-19_15h38_23.png"></img></p>
<p>После настройки подключения необходимо настроить параметры кластера, значения которых необходимо контролировать.</p>
<p><img src="_files/2018-09-19_16h35_15.png"></img></p>
<p>В данном случае, если настройка "Допустимый объем памяти", полученная при мониторинге кластера будет отличаться от указанного значения, то будет создан инцидент с уровнем "Предупреждение". При возвращении значения к эталонному инцидент автоматически будет закрыт.</p>
<p>При корректной настройке подключения к кластеру при записи элемента отдельным фоновым заданием будет прочитана структура кластера. Рабочие сервера и информационные базы будут созданы автоматически, после завершения фонового задания. При мониторинге кластера (мониторинг осуществляется контрольной процедурой "Мониторинг кластера") структура в ЦКК автоматически синхронизируется со структурой объекта мониторинга, собираются счетчики производительности кластера 1С.</p>
<p>Быстрый переход к основным счетчикам производительности кластера 1С осуществляется по кнопке "Диаграмма".</p>
<p><br><img src="_files/2019-01-22_17h46_35.png"></img></p>
<p><br></p>
<p><img src="8eb4fad1-1fa6-403e-970f-2c12dbb43e23_files/2018-02-09_10h21_03.png"></img></p><!-- Состояние --></body></html>